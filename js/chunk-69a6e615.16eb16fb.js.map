{"version":3,"sources":["webpack:///./src/views/CalendarWeek.vue?4893","webpack:///./src/views/CalendarWeek.vue?2f46","webpack:///src/views/CalendarWeek.vue","webpack:///./src/views/CalendarWeek.vue?ff6c","webpack:///./src/views/CalendarWeek.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticStyle","attrs","_l","day","key","date","class","isSelectedDay","on","$event","stopPropagation","preventDefault","selectDate","_s","_f","content","staticRenderFns","name","data","$route","params","scheduleData","components","ViewSelector","CalendarDayContent","Timeline","methods","getWeekday","$router","push","dispatchContents","days","forEach","storageData","filter","created","computed","thisWeekPreviousDay","thisDay","thisWeekNextDay","beforeRouteUpdate","next","filters","dateFormat","weekDayFormat","component"],"mappings":"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","file":"js/chunk-69a6e615.16eb16fb.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarWeek.vue?vue&type=style&index=0&id=e6aab4c6&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"calendar-day\"},[_c('div',{staticClass:\"header d-flex flex-column justify-content-between p-2\"},[_c('div',{staticClass:\"selector d-flex align-items-center\"},[_c('h1',[_vm._v(\"預約行事曆\")]),_c('ViewSelector')],1),_c('div',{staticClass:\"week-list-wrapper d-flex\"},[_c('div',{staticStyle:{\"width\":\"80px\"}},[_c('div',{staticClass:\"calendar-icon-wrapper d-flex justify-content-center align-items-center mt-1\"},[_c('font-awesome-icon',{attrs:{\"icon\":['far', 'calendar']}})],1)]),_c('div',{staticClass:\"week-list flex-grow-1\"},[_c('ol',{staticClass:\"d-flex justify-content-around\"},_vm._l((_vm.days),function(day){return _c('li',{key:day.date,staticClass:\"d-flex flex-column justify-content-around align-items-center\",class:{'is-selected-day':day.isSelectedDay},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.selectDate(day.date)}}},[_c('span',{staticClass:\"li-week-day\"},[_vm._v(_vm._s(_vm._f(\"weekDayFormat\")(day.date)))]),_c('span',{staticClass:\"li-date\"},[_vm._v(_vm._s(_vm._f(\"dateFormat\")(day.date)))])])}),0)])])]),_c('div',{staticClass:\"week-content d-flex\"},[_c('Timeline'),_vm._l((_vm.days),function(day){return _c('CalendarDayContent',{key:day.date,attrs:{\"initial-schedule-data\":day.content}})})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"calendar-day\">\n    <div class=\"header d-flex flex-column justify-content-between p-2\">\n      <div class=\"selector d-flex align-items-center\">\n        <h1>預約行事曆</h1>\n        <ViewSelector />\n      </div>\n      <div class=\"week-list-wrapper d-flex\">\n        <div style=\"width: 80px;\">\n          <div class=\"calendar-icon-wrapper d-flex justify-content-center align-items-center mt-1\">\n            <font-awesome-icon :icon=\"['far', 'calendar']\" />\n          </div>\n        </div>\n        <div class=\"week-list flex-grow-1\">\n          <ol class=\"d-flex justify-content-around\">\n            <li\n              v-for=\"day in days\"\n              :key=\"day.date\"\n              @click.stop.prevent=\"selectDate(day.date)\"\n              :class=\"{'is-selected-day':day.isSelectedDay}\"\n              class=\"d-flex flex-column justify-content-around align-items-center\"\n            >\n              <span class=\"li-week-day\">{{ day.date | weekDayFormat}}</span>\n              <span class=\"li-date\">{{ day.date | dateFormat }}</span>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"week-content d-flex\">\n      <Timeline />\n      <CalendarDayContent v-for=\"day in days\" :key=\"day.date\" :initial-schedule-data=\"day.content\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport dayjs from \"dayjs\";\nimport weekday from \"dayjs/plugin/weekday\";\nimport ViewSelector from \"../components/VIewSelector\";\nimport CalendarDayContent from \"../components/CalendarDayContent\";\nimport Timeline from \"../components/Timeline\";\ndayjs.extend(weekday);\n\nexport default {\n  name: \"CalendarWeek\",\n  data() {\n    return {\n      date: this.$route.params.date,\n      scheduleData: []\n    };\n  },\n  components: {\n    ViewSelector,\n    CalendarDayContent,\n    Timeline\n  },\n  methods: {\n    getWeekday(date) {\n      return dayjs(date).weekday();\n    },\n    selectDate(date) {\n      this.$router.push({ name: \"calendar-day\", params: { date } });\n    },\n    dispatchContents() {\n      const storageData = JSON.parse(localStorage.getItem(\"schedule\"));\n      this.days.forEach(day => {\n        day.content = storageData.filter(item => item.date === day.date).length\n          ? storageData.filter(item => item.date === day.date)[0].contents\n          : [];\n      });\n    }\n  },\n  created() {\n    this.dispatchContents();\n  },\n  computed: {\n    thisWeekPreviousDay() {\n      const visibleNumberOfPreviousDay = this.getWeekday(this.date)\n        ? this.getWeekday(this.date) - 1\n        : 6;\n      return [...Array(visibleNumberOfPreviousDay)].map((day, index) => {\n        return {\n          date: dayjs(this.date)\n            .subtract(visibleNumberOfPreviousDay - index, \"day\")\n            .format(\"YYYY-MM-DD\"),\n          isSelectedDay: false,\n          content: []\n        };\n      });\n    },\n    thisDay() {\n      return {\n        date: dayjs(this.date).format(\"YYYY-MM-DD\"),\n        isSelectedDay: true,\n        content: []\n      };\n    },\n    thisWeekNextDay() {\n      const visibleNumberOfNextDay = this.getWeekday(this.date)\n        ? 7 - this.getWeekday(this.date)\n        : 0;\n      return [...Array(visibleNumberOfNextDay)].map((day, index) => {\n        return {\n          date: dayjs(this.date)\n            .add(index + 1, \"day\")\n            .format(\"YYYY-MM-DD\"),\n          isSelectedDay: false,\n          content: []\n        };\n      });\n    },\n    days() {\n      return [\n        ...this.thisWeekPreviousDay,\n        this.thisDay,\n        ...this.thisWeekNextDay\n      ];\n    }\n  },\n  beforeRouteUpdate(to, from, next) {\n    const { date } = to.params;\n    this.date = date;\n    next();\n  },\n  filters: {\n    dateFormat(date) {\n      return dayjs(date).format(\"DD\");\n    },\n    weekDayFormat(date) {\n      switch (dayjs(date).format(\"ddd\")) {\n        case \"Sun\":\n          return \"S\";\n        case \"Mon\":\n          return \"M\";\n        case \"Tue\":\n          return \"T\";\n        case \"Wed\":\n          return \"W\";\n        case \"Thu\":\n          return \"T\";\n        case \"Fri\":\n          return \"F\";\n        case \"Sat\":\n          return \"S\";\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.header {\n  width: 100%;\n  height: 120px;\n  box-shadow: 0px 3px 5px 0.1px rgba(0, 0, 0, 0.1);\n  position: fixed;\n  z-index: 1000000;\n  background: linear-gradient(\n    45deg,\n    $bg_color_start,\n    $bg_color_middle,\n    $bg_color_end,\n    $bg_color_end\n  );\n\n  .selector h1 {\n    font-size: larger;\n  }\n\n  .week-list-wrapper {\n    height: 50px;\n\n    .week-list ol {\n      height: 100%;\n\n      li {\n        width: 100%;\n        border-radius: 5px;\n        text-align: center;\n\n        &:not(.is-selected-day):hover {\n          @include box-shadow;\n        }\n        &.is-selected-day {\n          background-color: transparent;\n          color: $theme_color;\n          @include box-shadow;\n        }\n      }\n    }\n\n    .calendar-icon-wrapper {\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n      background-color: $item_color;\n      color: $theme_color;\n      @include box-shadow;\n    }\n  }\n}\n\n.week-content {\n  width: 100%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarWeek.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarWeek.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CalendarWeek.vue?vue&type=template&id=e6aab4c6&scoped=true&\"\nimport script from \"./CalendarWeek.vue?vue&type=script&lang=js&\"\nexport * from \"./CalendarWeek.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CalendarWeek.vue?vue&type=style&index=0&id=e6aab4c6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e6aab4c6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}